{"ast":null,"code":"import { ToneAudioNode } from \"../../core/context/ToneAudioNode.js\";\nimport { optionsFromArguments } from \"../../core/util/Defaults.js\";\nimport { Compressor } from \"./Compressor.js\";\nimport { readOnly } from \"../../core/util/Interface.js\";\n/**\n * Limiter will limit the loudness of an incoming signal.\n * Under the hood it's composed of a {@link Compressor} with a fast attack\n * and release and max compression ratio.\n *\n * @example\n * const limiter = new Tone.Limiter(-20).toDestination();\n * const oscillator = new Tone.Oscillator().connect(limiter);\n * oscillator.start();\n * @category Component\n */\nexport class Limiter extends ToneAudioNode {\n  constructor() {\n    const options = optionsFromArguments(Limiter.getDefaults(), arguments, [\"threshold\"]);\n    super(options);\n    this.name = \"Limiter\";\n    this._compressor = this.input = this.output = new Compressor({\n      context: this.context,\n      ratio: 20,\n      attack: 0.003,\n      release: 0.01,\n      threshold: options.threshold\n    });\n    this.threshold = this._compressor.threshold;\n    readOnly(this, \"threshold\");\n  }\n  static getDefaults() {\n    return Object.assign(ToneAudioNode.getDefaults(), {\n      threshold: -12\n    });\n  }\n  /**\n   * A read-only decibel value for metering purposes, representing the current amount of gain\n   * reduction that the compressor is applying to the signal.\n   */\n  get reduction() {\n    return this._compressor.reduction;\n  }\n  dispose() {\n    super.dispose();\n    this._compressor.dispose();\n    this.threshold.dispose();\n    return this;\n  }\n}","map":{"version":3,"names":["ToneAudioNode","optionsFromArguments","Compressor","readOnly","Limiter","constructor","options","getDefaults","arguments","name","_compressor","input","output","context","ratio","attack","release","threshold","Object","assign","reduction","dispose"],"sources":["/Users/king/Documents/GitHub/dtmf-dialer/node_modules/tone/Tone/component/dynamics/Limiter.ts"],"sourcesContent":["import {\n\tInputNode,\n\tOutputNode,\n\tToneAudioNode,\n\tToneAudioNodeOptions,\n} from \"../../core/context/ToneAudioNode.js\";\nimport { Decibels } from \"../../core/type/Units.js\";\nimport { optionsFromArguments } from \"../../core/util/Defaults.js\";\nimport { Compressor } from \"./Compressor.js\";\nimport { Param } from \"../../core/context/Param.js\";\nimport { readOnly } from \"../../core/util/Interface.js\";\n\nexport interface LimiterOptions extends ToneAudioNodeOptions {\n\tthreshold: Decibels;\n}\n\n/**\n * Limiter will limit the loudness of an incoming signal.\n * Under the hood it's composed of a {@link Compressor} with a fast attack\n * and release and max compression ratio.\n *\n * @example\n * const limiter = new Tone.Limiter(-20).toDestination();\n * const oscillator = new Tone.Oscillator().connect(limiter);\n * oscillator.start();\n * @category Component\n */\nexport class Limiter extends ToneAudioNode<LimiterOptions> {\n\treadonly name: string = \"Limiter\";\n\n\treadonly input: InputNode;\n\treadonly output: OutputNode;\n\n\t/**\n\t * The compressor which does the limiting\n\t */\n\tprivate _compressor: Compressor;\n\n\treadonly threshold: Param<\"decibels\">;\n\n\t/**\n\t * @param threshold The threshold above which the gain reduction is applied.\n\t */\n\tconstructor(threshold?: Decibels);\n\tconstructor(options?: Partial<LimiterOptions>);\n\tconstructor() {\n\t\tconst options = optionsFromArguments(Limiter.getDefaults(), arguments, [\n\t\t\t\"threshold\",\n\t\t]);\n\t\tsuper(options);\n\n\t\tthis._compressor =\n\t\t\tthis.input =\n\t\t\tthis.output =\n\t\t\t\tnew Compressor({\n\t\t\t\t\tcontext: this.context,\n\t\t\t\t\tratio: 20,\n\t\t\t\t\tattack: 0.003,\n\t\t\t\t\trelease: 0.01,\n\t\t\t\t\tthreshold: options.threshold,\n\t\t\t\t});\n\n\t\tthis.threshold = this._compressor.threshold;\n\t\treadOnly(this, \"threshold\");\n\t}\n\n\tstatic getDefaults(): LimiterOptions {\n\t\treturn Object.assign(ToneAudioNode.getDefaults(), {\n\t\t\tthreshold: -12,\n\t\t});\n\t}\n\n\t/**\n\t * A read-only decibel value for metering purposes, representing the current amount of gain\n\t * reduction that the compressor is applying to the signal.\n\t */\n\tget reduction(): Decibels {\n\t\treturn this._compressor.reduction;\n\t}\n\n\tdispose(): this {\n\t\tsuper.dispose();\n\t\tthis._compressor.dispose();\n\t\tthis.threshold.dispose();\n\t\treturn this;\n\t}\n}\n"],"mappings":"AAAA,SAGCA,aAAa,QAEP,qCAAqC;AAE5C,SAASC,oBAAoB,QAAQ,6BAA6B;AAClE,SAASC,UAAU,QAAQ,iBAAiB;AAE5C,SAASC,QAAQ,QAAQ,8BAA8B;AAMvD;;;;;;;;;;;AAWA,OAAM,MAAOC,OAAQ,SAAQJ,aAA6B;EAkBzDK,YAAA;IACC,MAAMC,OAAO,GAAGL,oBAAoB,CAACG,OAAO,CAACG,WAAW,EAAE,EAAEC,SAAS,EAAE,CACtE,WAAW,CACX,CAAC;IACF,KAAK,CAACF,OAAO,CAAC;IArBN,KAAAG,IAAI,GAAW,SAAS;IAuBhC,IAAI,CAACC,WAAW,GACf,IAAI,CAACC,KAAK,GACV,IAAI,CAACC,MAAM,GACV,IAAIV,UAAU,CAAC;MACdW,OAAO,EAAE,IAAI,CAACA,OAAO;MACrBC,KAAK,EAAE,EAAE;MACTC,MAAM,EAAE,KAAK;MACbC,OAAO,EAAE,IAAI;MACbC,SAAS,EAAEX,OAAO,CAACW;KACnB,CAAC;IAEJ,IAAI,CAACA,SAAS,GAAG,IAAI,CAACP,WAAW,CAACO,SAAS;IAC3Cd,QAAQ,CAAC,IAAI,EAAE,WAAW,CAAC;EAC5B;EAEA,OAAOI,WAAWA,CAAA;IACjB,OAAOW,MAAM,CAACC,MAAM,CAACnB,aAAa,CAACO,WAAW,EAAE,EAAE;MACjDU,SAAS,EAAE,CAAC;KACZ,CAAC;EACH;EAEA;;;;EAIA,IAAIG,SAASA,CAAA;IACZ,OAAO,IAAI,CAACV,WAAW,CAACU,SAAS;EAClC;EAEAC,OAAOA,CAAA;IACN,KAAK,CAACA,OAAO,EAAE;IACf,IAAI,CAACX,WAAW,CAACW,OAAO,EAAE;IAC1B,IAAI,CAACJ,SAAS,CAACI,OAAO,EAAE;IACxB,OAAO,IAAI;EACZ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}