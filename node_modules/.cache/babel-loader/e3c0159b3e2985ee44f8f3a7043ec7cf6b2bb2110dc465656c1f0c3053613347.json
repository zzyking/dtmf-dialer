{"ast":null,"code":"import { version } from \"../version.js\";\nimport { hasAudioContext, theWindow } from \"./context/AudioContext.js\";\nimport { Context } from \"./context/Context.js\";\nimport { DummyContext } from \"./context/DummyContext.js\";\nimport { OfflineContext } from \"./context/OfflineContext.js\";\nimport { isAudioContext, isOfflineAudioContext } from \"./util/AdvancedTypeCheck.js\";\n/**\n * This dummy context is used to avoid throwing immediate errors when importing in Node.js\n */\nconst dummyContext = new DummyContext();\n/**\n * The global audio context which is getable and assignable through\n * getContext and setContext\n */\nlet globalContext = dummyContext;\n/**\n * Returns the default system-wide {@link Context}\n * @category Core\n */\nexport function getContext() {\n  if (globalContext === dummyContext && hasAudioContext) {\n    setContext(new Context());\n  }\n  return globalContext;\n}\n/**\n * Set the default audio context\n * @param context\n * @param disposeOld Pass `true` if you don't need the old context to dispose it.\n * @category Core\n */\nexport function setContext(context, disposeOld = false) {\n  if (disposeOld) {\n    globalContext.dispose();\n  }\n  if (isAudioContext(context)) {\n    globalContext = new Context(context);\n  } else if (isOfflineAudioContext(context)) {\n    globalContext = new OfflineContext(context);\n  } else {\n    globalContext = context;\n  }\n}\n/**\n * Most browsers will not play _any_ audio until a user\n * clicks something (like a play button). Invoke this method\n * on a click or keypress event handler to start the audio context.\n * More about the Autoplay policy\n * [here](https://developers.google.com/web/updates/2017/09/autoplay-policy-changes#webaudio)\n * @example\n * document.querySelector(\"button\").addEventListener(\"click\", async () => {\n * \tawait Tone.start();\n * \tconsole.log(\"context started\");\n * });\n * @category Core\n */\nexport function start() {\n  return globalContext.resume();\n}\n/**\n * Log Tone.js + version in the console.\n */\nif (theWindow && !theWindow.TONE_SILENCE_LOGGING) {\n  let prefix = \"v\";\n  if (version === \"dev\") {\n    prefix = \"\";\n  }\n  const printString = ` * Tone.js ${prefix}${version} * `;\n  // eslint-disable-next-line no-console\n  console.log(`%c${printString}`, \"background: #000; color: #fff\");\n}","map":{"version":3,"names":["version","hasAudioContext","theWindow","Context","DummyContext","OfflineContext","isAudioContext","isOfflineAudioContext","dummyContext","globalContext","getContext","setContext","context","disposeOld","dispose","start","resume","TONE_SILENCE_LOGGING","prefix","printString","console","log"],"sources":["/Users/king/Documents/GitHub/dtmf-dialer/node_modules/tone/Tone/core/Global.ts"],"sourcesContent":["import { version } from \"../version.js\";\nimport {\n\tAnyAudioContext,\n\thasAudioContext,\n\ttheWindow,\n} from \"./context/AudioContext.js\";\nimport { Context } from \"./context/Context.js\";\nimport { DummyContext } from \"./context/DummyContext.js\";\nimport { BaseContext } from \"./context/BaseContext.js\";\nimport { OfflineContext } from \"./context/OfflineContext.js\";\nimport {\n\tisAudioContext,\n\tisOfflineAudioContext,\n} from \"./util/AdvancedTypeCheck.js\";\n\n/**\n * This dummy context is used to avoid throwing immediate errors when importing in Node.js\n */\nconst dummyContext = new DummyContext();\n\n/**\n * The global audio context which is getable and assignable through\n * getContext and setContext\n */\nlet globalContext: BaseContext = dummyContext;\n\n/**\n * Returns the default system-wide {@link Context}\n * @category Core\n */\nexport function getContext(): BaseContext {\n\tif (globalContext === dummyContext && hasAudioContext) {\n\t\tsetContext(new Context());\n\t}\n\treturn globalContext;\n}\n\n/**\n * Set the default audio context\n * @param context\n * @param disposeOld Pass `true` if you don't need the old context to dispose it.\n * @category Core\n */\nexport function setContext(\n\tcontext: BaseContext | AnyAudioContext,\n\tdisposeOld = false\n): void {\n\tif (disposeOld) {\n\t\tglobalContext.dispose();\n\t}\n\n\tif (isAudioContext(context)) {\n\t\tglobalContext = new Context(context);\n\t} else if (isOfflineAudioContext(context)) {\n\t\tglobalContext = new OfflineContext(context);\n\t} else {\n\t\tglobalContext = context;\n\t}\n}\n\n/**\n * Most browsers will not play _any_ audio until a user\n * clicks something (like a play button). Invoke this method\n * on a click or keypress event handler to start the audio context.\n * More about the Autoplay policy\n * [here](https://developers.google.com/web/updates/2017/09/autoplay-policy-changes#webaudio)\n * @example\n * document.querySelector(\"button\").addEventListener(\"click\", async () => {\n * \tawait Tone.start();\n * \tconsole.log(\"context started\");\n * });\n * @category Core\n */\nexport function start(): Promise<void> {\n\treturn globalContext.resume();\n}\n\n/**\n * Log Tone.js + version in the console.\n */\nif (theWindow && !theWindow.TONE_SILENCE_LOGGING) {\n\tlet prefix = \"v\";\n\tif (version === \"dev\") {\n\t\tprefix = \"\";\n\t}\n\tconst printString = ` * Tone.js ${prefix}${version} * `;\n\t// eslint-disable-next-line no-console\n\tconsole.log(`%c${printString}`, \"background: #000; color: #fff\");\n}\n"],"mappings":"AAAA,SAASA,OAAO,QAAQ,eAAe;AACvC,SAECC,eAAe,EACfC,SAAS,QACH,2BAA2B;AAClC,SAASC,OAAO,QAAQ,sBAAsB;AAC9C,SAASC,YAAY,QAAQ,2BAA2B;AAExD,SAASC,cAAc,QAAQ,6BAA6B;AAC5D,SACCC,cAAc,EACdC,qBAAqB,QACf,6BAA6B;AAEpC;;;AAGA,MAAMC,YAAY,GAAG,IAAIJ,YAAY,EAAE;AAEvC;;;;AAIA,IAAIK,aAAa,GAAgBD,YAAY;AAE7C;;;;AAIA,OAAM,SAAUE,UAAUA,CAAA;EACzB,IAAID,aAAa,KAAKD,YAAY,IAAIP,eAAe,EAAE;IACtDU,UAAU,CAAC,IAAIR,OAAO,EAAE,CAAC;EAC1B;EACA,OAAOM,aAAa;AACrB;AAEA;;;;;;AAMA,OAAM,SAAUE,UAAUA,CACzBC,OAAsC,EACtCC,UAAU,GAAG,KAAK;EAElB,IAAIA,UAAU,EAAE;IACfJ,aAAa,CAACK,OAAO,EAAE;EACxB;EAEA,IAAIR,cAAc,CAACM,OAAO,CAAC,EAAE;IAC5BH,aAAa,GAAG,IAAIN,OAAO,CAACS,OAAO,CAAC;EACrC,CAAC,MAAM,IAAIL,qBAAqB,CAACK,OAAO,CAAC,EAAE;IAC1CH,aAAa,GAAG,IAAIJ,cAAc,CAACO,OAAO,CAAC;EAC5C,CAAC,MAAM;IACNH,aAAa,GAAGG,OAAO;EACxB;AACD;AAEA;;;;;;;;;;;;;AAaA,OAAM,SAAUG,KAAKA,CAAA;EACpB,OAAON,aAAa,CAACO,MAAM,EAAE;AAC9B;AAEA;;;AAGA,IAAId,SAAS,IAAI,CAACA,SAAS,CAACe,oBAAoB,EAAE;EACjD,IAAIC,MAAM,GAAG,GAAG;EAChB,IAAIlB,OAAO,KAAK,KAAK,EAAE;IACtBkB,MAAM,GAAG,EAAE;EACZ;EACA,MAAMC,WAAW,GAAG,cAAcD,MAAM,GAAGlB,OAAO,KAAK;EACvD;EACAoB,OAAO,CAACC,GAAG,CAAC,KAAKF,WAAW,EAAE,EAAE,+BAA+B,CAAC;AACjE","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}