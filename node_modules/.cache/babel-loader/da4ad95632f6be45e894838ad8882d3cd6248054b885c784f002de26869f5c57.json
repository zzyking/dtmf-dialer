{"ast":null,"code":"import { Effect } from \"./Effect.js\";\nimport { MidSideSplit } from \"../component/channel/MidSideSplit.js\";\nimport { MidSideMerge } from \"../component/channel/MidSideMerge.js\";\n/**\n * Mid/Side processing separates the the 'mid' signal\n * (which comes out of both the left and the right channel)\n * and the 'side' (which only comes out of the the side channels)\n * and effects them separately before being recombined.\n * Applies a Mid/Side seperation and recombination.\n * Algorithm found in [kvraudio forums](http://www.kvraudio.com/forum/viewtopic.php?t=212587).\n * This is a base-class for Mid/Side Effects.\n * @category Effect\n */\nexport class MidSideEffect extends Effect {\n  constructor(options) {\n    super(options);\n    this.name = \"MidSideEffect\";\n    this._midSideMerge = new MidSideMerge({\n      context: this.context\n    });\n    this._midSideSplit = new MidSideSplit({\n      context: this.context\n    });\n    this._midSend = this._midSideSplit.mid;\n    this._sideSend = this._midSideSplit.side;\n    this._midReturn = this._midSideMerge.mid;\n    this._sideReturn = this._midSideMerge.side;\n    // the connections\n    this.effectSend.connect(this._midSideSplit);\n    this._midSideMerge.connect(this.effectReturn);\n  }\n  /**\n   * Connect the mid chain of the effect\n   */\n  connectEffectMid(...nodes) {\n    this._midSend.chain(...nodes, this._midReturn);\n  }\n  /**\n   * Connect the side chain of the effect\n   */\n  connectEffectSide(...nodes) {\n    this._sideSend.chain(...nodes, this._sideReturn);\n  }\n  dispose() {\n    super.dispose();\n    this._midSideSplit.dispose();\n    this._midSideMerge.dispose();\n    this._midSend.dispose();\n    this._sideSend.dispose();\n    this._midReturn.dispose();\n    this._sideReturn.dispose();\n    return this;\n  }\n}","map":{"version":3,"names":["Effect","MidSideSplit","MidSideMerge","MidSideEffect","constructor","options","name","_midSideMerge","context","_midSideSplit","_midSend","mid","_sideSend","side","_midReturn","_sideReturn","effectSend","connect","effectReturn","connectEffectMid","nodes","chain","connectEffectSide","dispose"],"sources":["/Users/king/Documents/GitHub/dtmf-dialer/node_modules/tone/Tone/effect/MidSideEffect.ts"],"sourcesContent":["import { Effect, EffectOptions } from \"./Effect.js\";\nimport { MidSideSplit } from \"../component/channel/MidSideSplit.js\";\nimport { MidSideMerge } from \"../component/channel/MidSideMerge.js\";\nimport { OutputNode, ToneAudioNode } from \"../core/context/ToneAudioNode.js\";\n\nexport type MidSideEffectOptions = EffectOptions;\n\n/**\n * Mid/Side processing separates the the 'mid' signal\n * (which comes out of both the left and the right channel)\n * and the 'side' (which only comes out of the the side channels)\n * and effects them separately before being recombined.\n * Applies a Mid/Side seperation and recombination.\n * Algorithm found in [kvraudio forums](http://www.kvraudio.com/forum/viewtopic.php?t=212587).\n * This is a base-class for Mid/Side Effects.\n * @category Effect\n */\nexport abstract class MidSideEffect<\n\tOptions extends MidSideEffectOptions,\n> extends Effect<Options> {\n\treadonly name: string = \"MidSideEffect\";\n\n\t/**\n\t * The mid/side split\n\t */\n\tprivate _midSideSplit: MidSideSplit;\n\n\t/**\n\t * The mid/side merge\n\t */\n\tprivate _midSideMerge: MidSideMerge;\n\n\t/**\n\t * The mid send. Connect to mid processing\n\t */\n\tprotected _midSend: ToneAudioNode;\n\n\t/**\n\t * The side send. Connect to side processing\n\t */\n\tprotected _sideSend: ToneAudioNode;\n\n\t/**\n\t * The mid return connection\n\t */\n\tprotected _midReturn: ToneAudioNode;\n\n\t/**\n\t * The side return connection\n\t */\n\tprotected _sideReturn: ToneAudioNode;\n\n\tconstructor(options: MidSideEffectOptions) {\n\t\tsuper(options);\n\n\t\tthis._midSideMerge = new MidSideMerge({ context: this.context });\n\t\tthis._midSideSplit = new MidSideSplit({ context: this.context });\n\t\tthis._midSend = this._midSideSplit.mid;\n\t\tthis._sideSend = this._midSideSplit.side;\n\t\tthis._midReturn = this._midSideMerge.mid;\n\t\tthis._sideReturn = this._midSideMerge.side;\n\n\t\t// the connections\n\t\tthis.effectSend.connect(this._midSideSplit);\n\t\tthis._midSideMerge.connect(this.effectReturn);\n\t}\n\n\t/**\n\t * Connect the mid chain of the effect\n\t */\n\tprotected connectEffectMid(...nodes: OutputNode[]): void {\n\t\tthis._midSend.chain(...nodes, this._midReturn);\n\t}\n\n\t/**\n\t * Connect the side chain of the effect\n\t */\n\tprotected connectEffectSide(...nodes: OutputNode[]): void {\n\t\tthis._sideSend.chain(...nodes, this._sideReturn);\n\t}\n\n\tdispose(): this {\n\t\tsuper.dispose();\n\t\tthis._midSideSplit.dispose();\n\t\tthis._midSideMerge.dispose();\n\t\tthis._midSend.dispose();\n\t\tthis._sideSend.dispose();\n\t\tthis._midReturn.dispose();\n\t\tthis._sideReturn.dispose();\n\t\treturn this;\n\t}\n}\n"],"mappings":"AAAA,SAASA,MAAM,QAAuB,aAAa;AACnD,SAASC,YAAY,QAAQ,sCAAsC;AACnE,SAASC,YAAY,QAAQ,sCAAsC;AAKnE;;;;;;;;;;AAUA,OAAM,MAAgBC,aAEpB,SAAQH,MAAe;EAiCxBI,YAAYC,OAA6B;IACxC,KAAK,CAACA,OAAO,CAAC;IAjCN,KAAAC,IAAI,GAAW,eAAe;IAmCtC,IAAI,CAACC,aAAa,GAAG,IAAIL,YAAY,CAAC;MAAEM,OAAO,EAAE,IAAI,CAACA;IAAO,CAAE,CAAC;IAChE,IAAI,CAACC,aAAa,GAAG,IAAIR,YAAY,CAAC;MAAEO,OAAO,EAAE,IAAI,CAACA;IAAO,CAAE,CAAC;IAChE,IAAI,CAACE,QAAQ,GAAG,IAAI,CAACD,aAAa,CAACE,GAAG;IACtC,IAAI,CAACC,SAAS,GAAG,IAAI,CAACH,aAAa,CAACI,IAAI;IACxC,IAAI,CAACC,UAAU,GAAG,IAAI,CAACP,aAAa,CAACI,GAAG;IACxC,IAAI,CAACI,WAAW,GAAG,IAAI,CAACR,aAAa,CAACM,IAAI;IAE1C;IACA,IAAI,CAACG,UAAU,CAACC,OAAO,CAAC,IAAI,CAACR,aAAa,CAAC;IAC3C,IAAI,CAACF,aAAa,CAACU,OAAO,CAAC,IAAI,CAACC,YAAY,CAAC;EAC9C;EAEA;;;EAGUC,gBAAgBA,CAAC,GAAGC,KAAmB;IAChD,IAAI,CAACV,QAAQ,CAACW,KAAK,CAAC,GAAGD,KAAK,EAAE,IAAI,CAACN,UAAU,CAAC;EAC/C;EAEA;;;EAGUQ,iBAAiBA,CAAC,GAAGF,KAAmB;IACjD,IAAI,CAACR,SAAS,CAACS,KAAK,CAAC,GAAGD,KAAK,EAAE,IAAI,CAACL,WAAW,CAAC;EACjD;EAEAQ,OAAOA,CAAA;IACN,KAAK,CAACA,OAAO,EAAE;IACf,IAAI,CAACd,aAAa,CAACc,OAAO,EAAE;IAC5B,IAAI,CAAChB,aAAa,CAACgB,OAAO,EAAE;IAC5B,IAAI,CAACb,QAAQ,CAACa,OAAO,EAAE;IACvB,IAAI,CAACX,SAAS,CAACW,OAAO,EAAE;IACxB,IAAI,CAACT,UAAU,CAACS,OAAO,EAAE;IACzB,IAAI,CAACR,WAAW,CAACQ,OAAO,EAAE;IAC1B,OAAO,IAAI;EACZ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}